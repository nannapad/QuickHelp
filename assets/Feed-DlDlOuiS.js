import{j as s,M as E,t as T,i as B,b as I}from"./ui-HD-sGl07.js";import{r as n}from"./vendor-D6EYvIws.js";import{m as D}from"./ManualData-BXjgqMK4.js";import{u as R}from"./utils-DIoNpZQj.js";const U=({manuals:a=[],activeTag:u="",onTagClick:m=()=>{},onLike:h=()=>{},onDownload:r=()=>{},onBookmark:d=()=>{},className:t=""})=>!a||a.length===0?s.jsxs("div",{className:`manual-grid-empty ${t}`,children:[s.jsx("div",{className:"manual-grid-empty-title",children:"No manuals found"}),s.jsx("div",{className:"manual-grid-empty-text",children:"Try adjusting your search criteria or browse different categories."})]}):s.jsx("div",{className:`manual-grid ${t}`,children:a.map(l=>s.jsx(E,{manual:l,activeTag:u,onTagClick:m,onLike:()=>h(l),onDownload:()=>r(l),onBookmark:()=>d(l)},l.id))}),A=()=>{const[a,u]=n.useState("all"),[m,h]=n.useState(""),[r,d]=n.useState(""),[t,l]=n.useState(""),[x,j]=n.useState(0),{t:o}=R(),f=n.useMemo(()=>!!(r||t||a!=="all"),[r,t,a]),g=n.useMemo(()=>{const e=r.toLowerCase().trim();return[...JSON.parse(localStorage.getItem("customManuals")||"[]").filter(c=>c.status==="published"),...D].filter(c=>{const k=c.category||"",w=c.tags||[],S=c.title||"";return!(a!=="all"&&k!==a||t&&!w.map(v=>v.toLowerCase()).includes(t.toLowerCase())||e&&!`${S} ${k} ${w.join(" ")}`.toLowerCase().includes(e))})},[r,t,a,x]),b=n.useMemo(()=>{if(!f)return o("feed.resultsText");const e=[];return r&&e.push(`search: "${r}"`),a!=="all"&&e.push(`category: ${a}`),t&&e.push(`tag: ${t}`),`${o("feed.searchResults")} ${g.length} manual(s) â€¢ ${e.join(" â€¢ ")}`},[f,r,a,t,g,o]);n.useEffect(()=>{const e=()=>{j(i=>i+1)};return window.addEventListener("storage",e),window.addEventListener("manualUpdated",e),window.addEventListener("manualInteractionsUpdated",e),window.addEventListener("bookmarksUpdated",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("manualUpdated",e),window.removeEventListener("manualInteractionsUpdated",e),window.removeEventListener("bookmarksUpdated",e)}},[]);const p=()=>{const e=document.getElementById("manual-list");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},y=e=>{e.preventDefault(),d(m),l(""),p()},L=e=>{u(e),l(""),d(""),p()},N=e=>{l(e),d(""),h(""),u("all"),p()},C=e=>{const i=I(e.id);console.log(`${i.hasLiked?"Liked":"Unliked"} manual: ${e.title}`)},$=e=>{const i=B(e.id);console.log(`Downloaded manual: ${e.title} (Total: ${i})`)},M=e=>{const i=T(e.id);console.log(`${i?"Bookmarked":"Removed bookmark from"} manual: ${e.title}`)};return n.useEffect(()=>{},[]),s.jsxs("main",{className:"feed-page",children:[s.jsxs("section",{className:"feed-hero",id:"hero-top",children:[s.jsx("h1",{className:"feed-hero-title",children:"Quick Search"}),s.jsx("p",{className:"feed-hero-sub",children:"à¸„à¹‰à¸™à¸«à¸²à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸‚à¸­à¸‡à¸­à¸‡à¸„à¹Œà¸à¸£à¸ˆà¸²à¸à¸—à¸µà¹ˆà¹€à¸”à¸µà¸¢à¸§ â€” à¸¥à¸­à¸‡à¸žà¸´à¸¡à¸žà¹Œ â€œVS Codeâ€, â€œOnboardingâ€, â€œBrand guidelineâ€ à¸«à¸£à¸·à¸­à¹€à¸¥à¸·à¸­à¸à¸«à¸¡à¸§à¸”à¸”à¹‰à¸²à¸™à¸¥à¹ˆà¸²à¸‡"}),s.jsx("form",{className:"feed-hero-searchWrapper",onSubmit:y,children:s.jsxs("div",{className:"feed-hero-search",children:[s.jsx("span",{className:"feed-hero-searchIcon",children:"ðŸ”"})," ",s.jsx("input",{type:"text",placeholder:o("feed.searchPlaceholder"),value:m,onChange:e=>h(e.target.value)})]})}),s.jsxs("div",{className:"feed-chipRow",children:[" ",[{id:"all",label:o("feed.categories.all")},{id:"IT",label:o("feed.categories.it")},{id:"Design",label:o("feed.categories.design")},{id:"Marketing",label:o("feed.categories.marketing")},{id:"HR",label:o("feed.categories.hr")}].map(e=>s.jsx("button",{type:"button",className:`feed-chip ${a===e.id?"is-active":""}`,onClick:()=>L(e.id),children:e.label},e.id))]})]}),s.jsxs("section",{className:"feed-main",id:"manual-list",children:[" ",s.jsxs("header",{className:"feed-mainHeader",children:[s.jsx("div",{className:"feed-mainTitle",children:o(f?"feed.searchResults":"feed.recommended")}),s.jsx("div",{className:"feed-mainSub",children:b})]})," ",s.jsx(U,{manuals:g,activeTag:t,onTagClick:N,onLike:C,onDownload:$,onBookmark:M,className:"feed-cardGrid"})]})]})};export{A as default};
