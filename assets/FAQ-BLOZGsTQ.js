import{j as e}from"./ui-C0p69nPY.js";import{r,R as y}from"./vendor-D6EYvIws.js";import{u as S}from"./utils-dQ_ya9vc.js";const D=()=>{const{t}=S(),[i,p]=r.useState(""),[N,l]=r.useState(!1),[n,o]=r.useState({name:"",email:"",question:""}),[d,h]=r.useState([]),[q,j]=r.useState("");y.useEffect(()=>{try{const s=localStorage.getItem("userData");if(s){const a=JSON.parse(s);j(a.email);const u=JSON.parse(localStorage.getItem("userQuestions")||"[]").filter(v=>v.email===a.email);h(u)}}catch(s){console.error("Error loading user questions:",s)}},[]);const f=[{q:t("faq.questions.access.q"),a:t("faq.questions.access.a")},{q:t("faq.questions.request.q"),a:t("faq.questions.request.a")},{q:t("faq.questions.update.q"),a:t("faq.questions.update.a")},{q:t("faq.questions.categories.q"),a:t("faq.questions.categories.a")}].filter(s=>s.q.toLowerCase().includes(i.toLowerCase())||s.a.toLowerCase().includes(i.toLowerCase())),g=s=>{s.preventDefault();try{const a=JSON.parse(localStorage.getItem("userQuestions")||"[]"),m={id:Date.now(),name:n.name,email:n.email,question:n.question,createdAt:new Date().toISOString(),status:"pending",answer:null};a.push(m),localStorage.setItem("userQuestions",JSON.stringify(a)),n.email===q&&h(u=>[...u,m]),alert("Thank you for your question! Our team will review it shortly.")}catch(a){console.error("Error saving question:",a),alert("There was an error submitting your question. Please try again.")}o({name:"",email:"",question:""}),l(!1)},c=s=>{o({...n,[s.target.name]:s.target.value})},w=()=>l(!0),x=()=>{l(!1),o({name:"",email:"",question:""})};return e.jsx("main",{className:"faq-page",children:e.jsxs("div",{className:"faq-inner",children:[e.jsxs("header",{className:"faq-header",children:[e.jsx("h1",{className:"faq-title",children:t("faq.title")}),e.jsx("p",{className:"faq-subtitle",children:t("faq.subtitle")})]})," ",q&&d.length>0&&e.jsxs("div",{className:"my-questions-section",children:[e.jsx("h2",{className:"my-questions-title",children:"ðŸ“‹ My Questions"}),e.jsx("div",{className:"my-questions-list",children:d.sort((s,a)=>new Date(a.createdAt)-new Date(s.createdAt)).map(s=>e.jsxs("div",{className:"my-question-card",children:[e.jsxs("div",{className:"my-question-header",children:[e.jsxs("span",{className:`question-status status-${s.status}`,children:[s.status==="pending"&&"â³ Pending",s.status==="answered"&&"âœ… Answered",s.status==="archived"&&"ðŸ“¦ Archived"]}),e.jsx("span",{className:"question-date",children:new Date(s.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),e.jsxs("div",{className:"my-question-content",children:[e.jsxs("h4",{className:"my-question-text",children:["Q: ",s.question]}),s.answer&&e.jsxs("div",{className:"my-question-answer",children:[e.jsxs("div",{className:"answer-header",children:[e.jsx("span",{className:"answer-icon",children:"ðŸ’¬"}),e.jsx("span",{className:"answer-label",children:"Admin Response:"}),s.answeredAt&&e.jsx("span",{className:"answer-date",children:new Date(s.answeredAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),e.jsx("p",{className:"answer-text",children:s.answer}),s.answeredBy&&e.jsxs("p",{className:"answered-by",children:["â€” ",s.answeredBy]})]})]})]},s.id))})]}),e.jsx("div",{className:"faq-search-section",children:e.jsxs("div",{className:"faq-search-wrapper",children:[e.jsxs("div",{className:"faq-search-box",children:[e.jsx("input",{type:"text",placeholder:"Search frequently asked questions...",value:i,onChange:s=>p(s.target.value),className:"faq-search-input"}),e.jsx("span",{className:"faq-search-icon",children:"ðŸ”"})]}),e.jsx("button",{onClick:w,className:"faq-ask-btn",children:"ðŸ’¬ Ask Question"})]})}),e.jsx("div",{className:"faq-content",children:f.length>0?f.map((s,a)=>e.jsxs("div",{className:"faq-item",children:[e.jsx("h3",{className:"faq-question",children:s.q}),e.jsx("p",{className:"faq-answer",children:s.a})]},a)):e.jsx("div",{className:"faq-no-results",children:e.jsx("p",{children:"No FAQs found matching your search. Try asking a question below!"})})})," ",N&&e.jsx("div",{className:"faq-modal-overlay",onClick:x,children:e.jsxs("div",{className:"faq-modal",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"faq-modal-header",children:[e.jsx("h2",{className:"faq-modal-title",children:"Ask a Question"}),e.jsx("button",{onClick:x,className:"faq-modal-close",children:"âœ•"})]}),e.jsxs("form",{onSubmit:g,className:"faq-question-form",children:[e.jsxs("div",{className:"faq-form-row",children:[e.jsxs("div",{className:"faq-form-group",children:[e.jsx("label",{htmlFor:"name",className:"faq-form-label",children:"Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:c,required:!0,className:"faq-form-input",placeholder:"Your full name"})]}),e.jsxs("div",{className:"faq-form-group",children:[e.jsx("label",{htmlFor:"email",className:"faq-form-label",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:c,required:!0,className:"faq-form-input",placeholder:"your.email@example.com"})]})]}),e.jsxs("div",{className:"faq-form-group",children:[e.jsx("label",{htmlFor:"question",className:"faq-form-label",children:"Your Question"}),e.jsx("textarea",{id:"question",name:"question",value:n.question,onChange:c,required:!0,className:"faq-form-textarea",placeholder:"Please describe your question in detail...",rows:"4"})]}),e.jsx("div",{className:"faq-modal-actions",children:e.jsx("button",{type:"submit",className:"faq-submit-btn",children:"Send Question"})})]})]})})]})})};export{D as default};
