const i=[{id:1,username:"johndoe",email:"john.doe@company.com",firstName:"John",lastName:"Doe",role:"user",avatar:null,profilePicture:null,bio:"Passionate software developer with 5+ years of experience in web technologies.",phone:"+1 (555) 123-4567",location:"San Francisco, CA",department:"IT",position:"Software Developer",isActive:!0,preferences:{notifications:!0,darkMode:!1,emailUpdates:!0,language:"en"},stats:{manualsViewed:23,manualsDownloaded:8,manualsBookmarked:5,loginCount:47,likesGiven:12},createdAt:"2024-01-15T09:30:00Z",lastLogin:"2024-11-19T08:15:00Z",permissions:["view_manuals","download_manuals","bookmark_manuals","comment_manuals","like_manuals"]},{id:2,username:"mariagarcia",email:"maria.garcia@company.com",firstName:"Maria",lastName:"Garcia",role:"creator",avatar:null,profilePicture:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",bio:"Senior UX Designer creating intuitive and accessible user experiences. Love crafting detailed design systems.",phone:"+1 (555) 987-6543",location:"Austin, TX",department:"Design",position:"Senior UX Designer",isActive:!0,preferences:{notifications:!0,darkMode:!1,emailUpdates:!0,language:"en"},stats:{manualsViewed:89,manualsDownloaded:34,manualsBookmarked:18,loginCount:156,manualsCreated:7,manualsEdited:12,likesGiven:45,totalManualViews:892,likesReceived:134},createdAt:"2024-02-10T14:20:00Z",lastLogin:"2024-11-19T09:30:00Z",permissions:["view_manuals","download_manuals","bookmark_manuals","comment_manuals","like_manuals","create_manuals","edit_own_manuals","delete_own_manuals","manage_own_categories","manage_own_tags"]},{id:3,username:"admin",email:"admin@company.com",firstName:"Sarah",lastName:"Wilson",role:"admin",avatar:null,profilePicture:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",bio:"System Administrator ensuring smooth operations and maintaining platform quality. Always happy to help users.",phone:"+1 (555) 456-7890",location:"Seattle, WA",department:"Management",position:"System Administrator",isActive:!0,preferences:{notifications:!0,darkMode:!0,emailUpdates:!0,language:"en"},stats:{manualsViewed:156,manualsDownloaded:45,manualsBookmarked:23,loginCount:234,manualsCreated:12,manualsModerated:67,likesGiven:89,totalManualViews:1245,likesReceived:201,usersManaged:125},createdAt:"2023-12-01T10:00:00Z",lastLogin:"2024-11-19T07:45:00Z",permissions:["view_manuals","download_manuals","bookmark_manuals","comment_manuals","like_manuals","create_manuals","edit_manuals","delete_manuals","moderate_comments","manage_users","view_analytics","manage_categories","manage_tags","backup_data","system_settings"]}],r=()=>{try{const e=localStorage.getItem("quickhelp_users");if(e){const a=JSON.parse(e);return console.log("Loaded users from localStorage:",a.length,"users"),a}else return console.log("No users in localStorage, initializing with",i.length,"default users"),localStorage.setItem("quickhelp_users",JSON.stringify(i)),i}catch(e){return console.error("Error loading users from localStorage:",e),i}},l=e=>{try{localStorage.setItem("quickhelp_users",JSON.stringify(e))}catch(a){console.error("Error saving users to localStorage:",a)}};let o=r();const d=e=>(o=r(),o.find(a=>a.id===parseInt(e))),u=e=>(o=r(),o.find(a=>a.email.toLowerCase()===e.toLowerCase())),m=e=>(o=r(),o.find(a=>a.username.toLowerCase()===e.toLowerCase())),g=e=>{const a=r();if(a.find(t=>t.email.toLowerCase()===e.email.toLowerCase()))return{success:!1,message:"Email already exists"};if(a.find(t=>t.username.toLowerCase()===e.username.toLowerCase()))return{success:!1,message:"Username already exists"};const n={id:Math.max(...a.map(t=>t.id),0)+1,username:e.username.toLowerCase(),email:e.email.toLowerCase(),firstName:e.firstName||e.username.split(/[._-]/)[0]||"User",lastName:e.lastName||"",role:"user",avatar:null,department:e.department||"",position:e.position||"Member",isActive:!0,preferences:{notifications:!0,darkMode:!1,emailUpdates:!0,language:"en"},stats:{manualsViewed:0,manualsDownloaded:0,manualsBookmarked:0,loginCount:0},createdAt:new Date().toISOString(),lastLogin:null,permissions:["view_manuals","download_manuals","bookmark_manuals","comment_manuals","like_manuals"]},s=[...a,n];return l(s),o=s,{success:!0,user:n}},c=e=>{const a=r(),n=a.findIndex(s=>s.id===parseInt(e));return n!==-1?(a[n].stats.loginCount+=1,a[n].lastLogin=new Date().toISOString(),l(a),o=a,a[n]):null},p=(e,a)=>{console.log("Authenticating user:",e);const n=r();console.log("Available users:",n),console.log("Available users count:",n.length),console.log("User details:",JSON.stringify(n.map(t=>({id:t.id,username:t.username,email:t.email,isActive:t.isActive})),null,2));let s=u(e);return console.log("User by email:",s),s||(s=m(e),console.log("User by username:",s)),s&&s.isActive?(console.log("User found and active:",s.username),{success:!0,user:c(s.id)||s,token:`demo-token-${s.id}-${Date.now()}`}):(console.log("Authentication failed - user not found or inactive"),console.log("Searched for:",e),console.log("User object:",s),{success:!1,message:"Invalid credentials or inactive account"})},f=(e,a)=>{const n=r(),s=n.findIndex(t=>t.id===parseInt(e));return s!==-1?(n[s]={...n[s],...a},l(n),o=n,n[s]):null},w=()=>r();export{p as a,w as b,g as c,d as g,f as u};
